{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.collectMethods = exports.DslMethodsCollectorVisitor = exports.getProductionDslName = exports.isBranchingProd = exports.isOptionalProd = exports.isSequenceProd = void 0;\n\nvar utils_1 = require(\"@chevrotain/utils\");\n\nvar gast_public_1 = require(\"./gast_public\");\n\nvar gast_visitor_public_1 = require(\"./gast_visitor_public\");\n\nfunction isSequenceProd(prod) {\n  return prod instanceof gast_public_1.Alternative || prod instanceof gast_public_1.Option || prod instanceof gast_public_1.Repetition || prod instanceof gast_public_1.RepetitionMandatory || prod instanceof gast_public_1.RepetitionMandatoryWithSeparator || prod instanceof gast_public_1.RepetitionWithSeparator || prod instanceof gast_public_1.Terminal || prod instanceof gast_public_1.Rule;\n}\n\nexports.isSequenceProd = isSequenceProd;\n\nfunction isOptionalProd(prod, alreadyVisited) {\n  if (alreadyVisited === void 0) {\n    alreadyVisited = [];\n  }\n\n  var isDirectlyOptional = prod instanceof gast_public_1.Option || prod instanceof gast_public_1.Repetition || prod instanceof gast_public_1.RepetitionWithSeparator;\n\n  if (isDirectlyOptional) {\n    return true;\n  } // note that this can cause infinite loop if one optional empty TOP production has a cyclic dependency with another\n  // empty optional top rule\n  // may be indirectly optional ((A?B?C?) | (D?E?F?))\n\n\n  if (prod instanceof gast_public_1.Alternation) {\n    // for OR its enough for just one of the alternatives to be optional\n    return utils_1.some(prod.definition, function (subProd) {\n      return isOptionalProd(subProd, alreadyVisited);\n    });\n  } else if (prod instanceof gast_public_1.NonTerminal && utils_1.contains(alreadyVisited, prod)) {\n    // avoiding stack overflow due to infinite recursion\n    return false;\n  } else if (prod instanceof gast_public_1.AbstractProduction) {\n    if (prod instanceof gast_public_1.NonTerminal) {\n      alreadyVisited.push(prod);\n    }\n\n    return utils_1.every(prod.definition, function (subProd) {\n      return isOptionalProd(subProd, alreadyVisited);\n    });\n  } else {\n    return false;\n  }\n}\n\nexports.isOptionalProd = isOptionalProd;\n\nfunction isBranchingProd(prod) {\n  return prod instanceof gast_public_1.Alternation;\n}\n\nexports.isBranchingProd = isBranchingProd;\n\nfunction getProductionDslName(prod) {\n  /* istanbul ignore else */\n  if (prod instanceof gast_public_1.NonTerminal) {\n    return \"SUBRULE\";\n  } else if (prod instanceof gast_public_1.Option) {\n    return \"OPTION\";\n  } else if (prod instanceof gast_public_1.Alternation) {\n    return \"OR\";\n  } else if (prod instanceof gast_public_1.RepetitionMandatory) {\n    return \"AT_LEAST_ONE\";\n  } else if (prod instanceof gast_public_1.RepetitionMandatoryWithSeparator) {\n    return \"AT_LEAST_ONE_SEP\";\n  } else if (prod instanceof gast_public_1.RepetitionWithSeparator) {\n    return \"MANY_SEP\";\n  } else if (prod instanceof gast_public_1.Repetition) {\n    return \"MANY\";\n  } else if (prod instanceof gast_public_1.Terminal) {\n    return \"CONSUME\";\n  } else {\n    throw Error(\"non exhaustive match\");\n  }\n}\n\nexports.getProductionDslName = getProductionDslName;\n\nvar DslMethodsCollectorVisitor =\n/** @class */\nfunction (_super) {\n  __extends(DslMethodsCollectorVisitor, _super);\n\n  function DslMethodsCollectorVisitor() {\n    var _this = _super !== null && _super.apply(this, arguments) || this; // A minus is never valid in an identifier name\n\n\n    _this.separator = \"-\";\n    _this.dslMethods = {\n      option: [],\n      alternation: [],\n      repetition: [],\n      repetitionWithSeparator: [],\n      repetitionMandatory: [],\n      repetitionMandatoryWithSeparator: []\n    };\n    return _this;\n  }\n\n  DslMethodsCollectorVisitor.prototype.reset = function () {\n    this.dslMethods = {\n      option: [],\n      alternation: [],\n      repetition: [],\n      repetitionWithSeparator: [],\n      repetitionMandatory: [],\n      repetitionMandatoryWithSeparator: []\n    };\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitTerminal = function (terminal) {\n    var key = terminal.terminalType.name + this.separator + \"Terminal\";\n\n    if (!utils_1.has(this.dslMethods, key)) {\n      this.dslMethods[key] = [];\n    }\n\n    this.dslMethods[key].push(terminal);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitNonTerminal = function (subrule) {\n    var key = subrule.nonTerminalName + this.separator + \"Terminal\";\n\n    if (!utils_1.has(this.dslMethods, key)) {\n      this.dslMethods[key] = [];\n    }\n\n    this.dslMethods[key].push(subrule);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitOption = function (option) {\n    this.dslMethods.option.push(option);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator = function (manySep) {\n    this.dslMethods.repetitionWithSeparator.push(manySep);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory = function (atLeastOne) {\n    this.dslMethods.repetitionMandatory.push(atLeastOne);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator = function (atLeastOneSep) {\n    this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitRepetition = function (many) {\n    this.dslMethods.repetition.push(many);\n  };\n\n  DslMethodsCollectorVisitor.prototype.visitAlternation = function (or) {\n    this.dslMethods.alternation.push(or);\n  };\n\n  return DslMethodsCollectorVisitor;\n}(gast_visitor_public_1.GAstVisitor);\n\nexports.DslMethodsCollectorVisitor = DslMethodsCollectorVisitor;\nvar collectorVisitor = new DslMethodsCollectorVisitor();\n\nfunction collectMethods(rule) {\n  collectorVisitor.reset();\n  rule.accept(collectorVisitor);\n  var dslMethods = collectorVisitor.dslMethods; // avoid uncleaned references\n\n  collectorVisitor.reset();\n  return dslMethods;\n}\n\nexports.collectMethods = collectMethods;","map":{"version":3,"sources":["../../../../../src/parse/grammar/gast/gast.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.collectMethods = exports.DslMethodsCollectorVisitor = exports.getProductionDslName = exports.isBranchingProd = exports.isOptionalProd = exports.isSequenceProd = void 0;\r\nvar utils_1 = require(\"@chevrotain/utils\");\r\nvar gast_public_1 = require(\"./gast_public\");\r\nvar gast_visitor_public_1 = require(\"./gast_visitor_public\");\r\nfunction isSequenceProd(prod) {\r\n    return (prod instanceof gast_public_1.Alternative ||\r\n        prod instanceof gast_public_1.Option ||\r\n        prod instanceof gast_public_1.Repetition ||\r\n        prod instanceof gast_public_1.RepetitionMandatory ||\r\n        prod instanceof gast_public_1.RepetitionMandatoryWithSeparator ||\r\n        prod instanceof gast_public_1.RepetitionWithSeparator ||\r\n        prod instanceof gast_public_1.Terminal ||\r\n        prod instanceof gast_public_1.Rule);\r\n}\r\nexports.isSequenceProd = isSequenceProd;\r\nfunction isOptionalProd(prod, alreadyVisited) {\r\n    if (alreadyVisited === void 0) { alreadyVisited = []; }\r\n    var isDirectlyOptional = prod instanceof gast_public_1.Option ||\r\n        prod instanceof gast_public_1.Repetition ||\r\n        prod instanceof gast_public_1.RepetitionWithSeparator;\r\n    if (isDirectlyOptional) {\r\n        return true;\r\n    }\r\n    // note that this can cause infinite loop if one optional empty TOP production has a cyclic dependency with another\r\n    // empty optional top rule\r\n    // may be indirectly optional ((A?B?C?) | (D?E?F?))\r\n    if (prod instanceof gast_public_1.Alternation) {\r\n        // for OR its enough for just one of the alternatives to be optional\r\n        return utils_1.some(prod.definition, function (subProd) {\r\n            return isOptionalProd(subProd, alreadyVisited);\r\n        });\r\n    }\r\n    else if (prod instanceof gast_public_1.NonTerminal && utils_1.contains(alreadyVisited, prod)) {\r\n        // avoiding stack overflow due to infinite recursion\r\n        return false;\r\n    }\r\n    else if (prod instanceof gast_public_1.AbstractProduction) {\r\n        if (prod instanceof gast_public_1.NonTerminal) {\r\n            alreadyVisited.push(prod);\r\n        }\r\n        return utils_1.every(prod.definition, function (subProd) {\r\n            return isOptionalProd(subProd, alreadyVisited);\r\n        });\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nexports.isOptionalProd = isOptionalProd;\r\nfunction isBranchingProd(prod) {\r\n    return prod instanceof gast_public_1.Alternation;\r\n}\r\nexports.isBranchingProd = isBranchingProd;\r\nfunction getProductionDslName(prod) {\r\n    /* istanbul ignore else */\r\n    if (prod instanceof gast_public_1.NonTerminal) {\r\n        return \"SUBRULE\";\r\n    }\r\n    else if (prod instanceof gast_public_1.Option) {\r\n        return \"OPTION\";\r\n    }\r\n    else if (prod instanceof gast_public_1.Alternation) {\r\n        return \"OR\";\r\n    }\r\n    else if (prod instanceof gast_public_1.RepetitionMandatory) {\r\n        return \"AT_LEAST_ONE\";\r\n    }\r\n    else if (prod instanceof gast_public_1.RepetitionMandatoryWithSeparator) {\r\n        return \"AT_LEAST_ONE_SEP\";\r\n    }\r\n    else if (prod instanceof gast_public_1.RepetitionWithSeparator) {\r\n        return \"MANY_SEP\";\r\n    }\r\n    else if (prod instanceof gast_public_1.Repetition) {\r\n        return \"MANY\";\r\n    }\r\n    else if (prod instanceof gast_public_1.Terminal) {\r\n        return \"CONSUME\";\r\n    }\r\n    else {\r\n        throw Error(\"non exhaustive match\");\r\n    }\r\n}\r\nexports.getProductionDslName = getProductionDslName;\r\nvar DslMethodsCollectorVisitor = /** @class */ (function (_super) {\r\n    __extends(DslMethodsCollectorVisitor, _super);\r\n    function DslMethodsCollectorVisitor() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // A minus is never valid in an identifier name\r\n        _this.separator = \"-\";\r\n        _this.dslMethods = {\r\n            option: [],\r\n            alternation: [],\r\n            repetition: [],\r\n            repetitionWithSeparator: [],\r\n            repetitionMandatory: [],\r\n            repetitionMandatoryWithSeparator: []\r\n        };\r\n        return _this;\r\n    }\r\n    DslMethodsCollectorVisitor.prototype.reset = function () {\r\n        this.dslMethods = {\r\n            option: [],\r\n            alternation: [],\r\n            repetition: [],\r\n            repetitionWithSeparator: [],\r\n            repetitionMandatory: [],\r\n            repetitionMandatoryWithSeparator: []\r\n        };\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitTerminal = function (terminal) {\r\n        var key = terminal.terminalType.name + this.separator + \"Terminal\";\r\n        if (!utils_1.has(this.dslMethods, key)) {\r\n            this.dslMethods[key] = [];\r\n        }\r\n        this.dslMethods[key].push(terminal);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitNonTerminal = function (subrule) {\r\n        var key = subrule.nonTerminalName + this.separator + \"Terminal\";\r\n        if (!utils_1.has(this.dslMethods, key)) {\r\n            this.dslMethods[key] = [];\r\n        }\r\n        this.dslMethods[key].push(subrule);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitOption = function (option) {\r\n        this.dslMethods.option.push(option);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitRepetitionWithSeparator = function (manySep) {\r\n        this.dslMethods.repetitionWithSeparator.push(manySep);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitRepetitionMandatory = function (atLeastOne) {\r\n        this.dslMethods.repetitionMandatory.push(atLeastOne);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitRepetitionMandatoryWithSeparator = function (atLeastOneSep) {\r\n        this.dslMethods.repetitionMandatoryWithSeparator.push(atLeastOneSep);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitRepetition = function (many) {\r\n        this.dslMethods.repetition.push(many);\r\n    };\r\n    DslMethodsCollectorVisitor.prototype.visitAlternation = function (or) {\r\n        this.dslMethods.alternation.push(or);\r\n    };\r\n    return DslMethodsCollectorVisitor;\r\n}(gast_visitor_public_1.GAstVisitor));\r\nexports.DslMethodsCollectorVisitor = DslMethodsCollectorVisitor;\r\nvar collectorVisitor = new DslMethodsCollectorVisitor();\r\nfunction collectMethods(rule) {\r\n    collectorVisitor.reset();\r\n    rule.accept(collectorVisitor);\r\n    var dslMethods = collectorVisitor.dslMethods;\r\n    // avoid uncleaned references\r\n    collectorVisitor.reset();\r\n    return dslMethods;\r\n}\r\nexports.collectMethods = collectMethods;\r\n//# sourceMappingURL=gast.js.map"]},"metadata":{},"sourceType":"script"}